<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Hunter System</title>

<style>
:root{
 --bg:#050b14;
 --panel:#0c1626;
 --panel-soft:#0f1c30;
 --accent:#3b82f6;
 --accent-soft:#6ea8ff;
 --text:#e6f0ff;
 --muted:#9fb3d9;
}

*{box-sizing:border-box}

body{
 margin:0;
 background:var(--bg);
 color:var(--text);
 font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Inter,sans-serif;
}

/* ---------- LAYOUT ---------- */
.app{
 max-width:480px;
 margin:0 auto;
 min-height:100vh;
 display:flex;
 flex-direction:column;
}

header{
 position:sticky;
 top:0;
 z-index:10;
 background:linear-gradient(180deg,#091224,#050b14);
 padding:14px 16px 10px;
}

.tabs{
 display:flex;
 gap:14px;
 font-size:14px;
 margin-top:10px;
}

.tab{
 color:var(--muted);
 padding-bottom:6px;
 border-bottom:2px solid transparent;
 cursor:pointer;
}

.tab.active{
 color:var(--text);
 border-color:var(--accent);
}

/* ---------- CARDS ---------- */
.card{
 background:var(--panel);
 border-radius:16px;
 padding:14px;
 margin:12px 12px 0;
 box-shadow:0 8px 24px rgba(0,0,0,.3);
}

.card.soft{
 background:var(--panel-soft);
}

.section-title{
 font-size:13px;
 letter-spacing:.08em;
 color:var(--muted);
 margin-bottom:10px;
}

/* ---------- PROFILE ---------- */
.profile-name{
 font-size:20px;
 font-weight:600;
}

.profile-sub{
 font-size:13px;
 color:var(--muted);
 margin-top:2px;
}

.xp-bar{
 height:8px;
 background:#02060d;
 border-radius:99px;
 overflow:hidden;
 margin-top:10px;
}

.xp-fill{
 height:100%;
 background:linear-gradient(90deg,var(--accent),var(--accent-soft));
 transition:width .4s ease;
}

/* ---------- STATS ---------- */
.stat{
 margin-top:10px;
}

.stat-row{
 display:flex;
 justify-content:space-between;
 font-size:13px;
}

.stat-name{color:var(--text)}
.stat-lv{color:var(--muted)}

.stat-bar{
 height:6px;
 background:#02060d;
 border-radius:99px;
 overflow:hidden;
 margin-top:4px;
}

.stat-fill{
 height:100%;
 background:linear-gradient(90deg,#60a5fa,#93c5fd);
}

/* ---------- CHAMBERS ---------- */
.chamber{
 display:flex;
 justify-content:space-between;
 align-items:center;
 padding:14px;
 border-radius:14px;
 background:linear-gradient(135deg,#0c1626,#0b1422);
 margin-top:12px;
 cursor:pointer;
}

.chamber-title{
 font-size:16px;
 font-weight:500;
}

.chamber-sub{
 font-size:12px;
 color:var(--muted);
}

/* ---------- INPUT ---------- */
input{
 width:100%;
 padding:12px;
 border-radius:12px;
 border:none;
 outline:none;
 background:#02060d;
 color:var(--text);
 margin-top:10px;
}

button{
 width:100%;
 padding:12px;
 margin-top:10px;
 border:none;
 border-radius:12px;
 background:linear-gradient(90deg,var(--accent),var(--accent-soft));
 color:white;
 font-weight:500;
 cursor:pointer;
}

/* ---------- QUEST ---------- */
.quest{
 display:flex;
 justify-content:space-between;
 align-items:center;
 background:#02060d;
 padding:10px 12px;
 border-radius:12px;
 margin-top:8px;
 font-size:14px;
}

.quest.done{
 opacity:.5;
 text-decoration:line-through;
}

/* ---------- UTIL ---------- */
.hidden{display:none}
.center{text-align:center}
.small{font-size:12px;color:var(--muted)}
</style>
</head>

<body>

<div class="app">

<!-- AWAKENING -->
<div id="awakening" class="card">
 <div class="center">
  <h2>AWAKENING</h2>
  <p class="small">Enter your Hunter identity</p>
 </div>
 <input id="hunterName" placeholder="Hunter name"/>
 <button onclick="awaken()">Awaken</button>
</div>

<!-- HEADER -->
<header id="header" class="hidden">
 <div class="profile-name" id="profileName"></div>
 <div class="profile-sub">
  Rank <b id="rank"></b> · Level <b id="level"></b>
 </div>
 <div class="xp-bar">
  <div class="xp-fill" id="xpFill"></div>
 </div>

 <div class="tabs">
  <div class="tab active" onclick="openPage('home',this)">Home</div>
  <div class="tab" onclick="openPage('strength',this)">Strength</div>
  <div class="tab" onclick="openPage('vitality',this)">Vitality</div>
  <div class="tab" onclick="openPage('discipline',this)">Discipline</div>
 </div>
</header>

<!-- HOME -->
<div id="home">
 <div class="card">
  <div class="section-title">STATS</div>
  <div id="stats"></div>
  <input id="newStat" placeholder="Add custom stat (optional)">
  <button onclick="addStat()">Add Stat</button>
 </div>

 <div class="card soft">
  <div class="section-title">CHAMBERS</div>

  <div class="chamber" onclick="go('strength')">
   <div>
    <div class="chamber-title">Strength</div>
    <div class="chamber-sub">Workouts & power</div>
   </div>
   →
  </div>

  <div class="chamber" onclick="go('vitality')">
   <div>
    <div class="chamber-title">Vitality</div>
    <div class="chamber-sub">Sleep & recovery</div>
   </div>
   →
  </div>

  <div class="chamber" onclick="go('discipline')">
   <div>
    <div class="chamber-title">Discipline</div>
    <div class="chamber-sub">Habits & rituals</div>
   </div>
   →
  </div>
 </div>
</div>

<!-- STRENGTH -->
<div id="strength" class="hidden">
 <div class="card">
  <div class="section-title">STRENGTH QUESTS</div>
  <input id="sText" placeholder="Workout quest">
  <input id="sXP" type="number" placeholder="XP">
  <button onclick="addQuest('strength')">Add</button>
  <div id="strengthList"></div>
 </div>
</div>

<!-- VITALITY -->
<div id="vitality" class="hidden">
 <div class="card">
  <div class="section-title">VITALITY TASKS</div>
  <input id="vText" placeholder="Daily task">
  <input id="vXP" type="number" placeholder="XP">
  <button onclick="addQuest('vitality')">Add</button>
  <div id="vitalityList"></div>
 </div>
</div>

<!-- DISCIPLINE -->
<div id="discipline" class="hidden">
 <div class="card">
  <div class="section-title">DISCIPLINE HABITS</div>
  <input id="dText" placeholder="Habit / ritual">
  <input id="dXP" type="number" placeholder="XP">
  <button onclick="addQuest('discipline')">Add</button>
  <div id="disciplineList"></div>
 </div>
</div>

</div>

<script>
/* ===== DATA ===== */
let data=JSON.parse(localStorage.getItem("system"))||{
 name:"",
 xp:0,
 stats:{Strength:{xp:0},Vitality:{xp:0},Discipline:{xp:0}},
 quests:{strength:[],vitality:[],discipline:[]},
 lastDay:""
};

/* DAILY RESET */
let today=new Date().toDateString();
if(data.lastDay!==today){
 Object.values(data.quests).forEach(q=>q.forEach(x=>x.done=false));
 data.lastDay=today;
 save();
}

/* AWAKEN */
function awaken(){
 let n=hunterName.value.trim();
 if(!n)return;
 data.name=n;
 save();
 init();
}

/* RANK */
function rankFromLevel(l){
 if(l>=90)return"MONARCH";
 if(l>=80)return"EMPEROR";
 if(l>=70)return"INTERNATIONAL";
 if(l>=60)return"NATIONAL";
 if(l>=50)return"S";
 if(l>=40)return"A";
 if(l>=30)return"B";
 if(l>=20)return"C";
 if(l>=10)return"D";
 return"E";
}

/* STATS */
function statLevel(xp){return Math.floor(xp/50)+1}
function addStat(){
 let n=newStat.value.trim();
 if(!n||data.stats[n])return;
 data.stats[n]={xp:0};
 save();render();
}

/* QUESTS */
function addQuest(type){
 let t=document.getElementById(type[0]+"Text").value;
 let xp=+document.getElementById(type[0]+"XP").value||10;
 if(!t)return;
 data.quests[type].push({t,xp,done:false});
 save();render();
}
function toggleQuest(type,i){
 let q=data.quests[type][i];
 if(q.done)return;
 q.done=true;
 data.xp+=q.xp;
 data.stats[type.charAt(0).toUpperCase()+type.slice(1)].xp+=q.xp;
 save();render();
}

/* RENDER */
function render(){
 profileName.innerText=data.name;
 let level=Math.floor(data.xp/100)+1;
 rank.innerText=rankFromLevel(level);
 level.innerText=level;
 xpFill.style.width=(data.xp%100)+"%";

 stats.innerHTML="";
 Object.entries(data.stats).forEach(([k,v])=>{
  let d=document.createElement("div");
  d.className="stat";
  d.innerHTML=`
   <div class="stat-row">
    <div class="stat-name">${k}</div>
    <div class="stat-lv">Lv ${statLevel(v.xp)}</div>
   </div>
   <div class="stat-bar">
    <div class="stat-fill" style="width:${(v.xp%50)*2}%"></div>
   </div>
  `;
  stats.appendChild(d);
 });

 ["strength","vitality","discipline"].forEach(t=>{
  let l=document.getElementById(t+"List");
  l.innerHTML="";
  data.quests[t].forEach((q,i)=>{
   let d=document.createElement("div");
   d.className="quest"+(q.done?" done":"");
   d.innerHTML=`${q.t} (+${q.xp}) <button onclick="toggleQuest('${t}',${i})">✓</button>`;
   l.appendChild(d);
  });
 });
}

/* NAV */
function openPage(p,el){
 document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));
 if(el) el.classList.add("active");
 ["home","strength","vitality","discipline"].forEach(x=>document.getElementById(x).classList.add("hidden"));
 document.getElementById(p).classList.remove("hidden");
}
function go(p){
 openPage(p,[...document.querySelectorAll(".tab")].find(t=>t.textContent.toLowerCase()===p));
}

/* SAVE */
function save(){
 localStorage.setItem("system",JSON.stringify(data));
}

/* INIT */
function init(){
 awakening.classList.add("hidden");
 header.classList.remove("hidden");
 render();
}
if(data.name) init();
</script>

</body>
</html>
