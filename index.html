<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Hunter System</title>

<style>
:root{
 --bg:#050b14;
 --panel:#0b1625;
 --accent:#1e90ff;
 --text:#e6f0ff;
}
body{
 margin:0;
 font-family:Arial, sans-serif;
 background:var(--bg);
 color:var(--text);
}
.hidden{display:none}
button{
 background:var(--accent);
 border:none;
 color:white;
 padding:10px;
 border-radius:8px;
 width:100%;
 margin-top:6px;
}
input{
 width:100%;
 padding:8px;
 border-radius:6px;
 border:none;
 margin-top:6px;
}
.card{
 background:var(--panel);
 border-radius:12px;
 padding:12px;
 margin:10px;
}
.bar{
 height:6px;
 background:#02060d;
 border-radius:10px;
 overflow:hidden;
}
.fill{
 height:100%;
 background:linear-gradient(90deg,#1e90ff,#6ea8ff);
}
nav{
 display:flex;
 justify-content:space-around;
 background:#09121f;
 padding:10px;
}
nav button{width:auto;background:none;color:#6ea8ff}
.stat{
 margin-top:8px;
}
.small{font-size:12px;opacity:.8}
.quest{
 display:flex;
 justify-content:space-between;
 align-items:center;
 margin-top:6px;
 background:#02060d;
 padding:6px;
 border-radius:6px;
}
.done{opacity:.5;text-decoration:line-through}
.center{text-align:center}
</style>
</head>

<body>

<!-- AWAKENING -->
<div id="awakening" class="card">
 <h2 class="center">AWAKENING</h2>
 <input id="hunterName" placeholder="Hunter Name">
 <button onclick="awaken()">AWAKEN</button>
</div>

<!-- HOME -->
<div id="home" class="hidden">
 <div class="card">
  <h2 id="profileName"></h2>
  Rank: <b id="rank"></b> | Level: <b id="level"></b>
  <div class="bar"><div id="xpFill" class="fill"></div></div>
 </div>

 <div class="card">
  <h3>STATS</h3>
  <div id="stats"></div>
  <input id="newStat" placeholder="Add custom stat (optional)">
  <button onclick="addStat()">Add Stat</button>
 </div>

 <div class="card" onclick="openPage('strength')">
  <h3>Strength Chamber</h3>
  <div class="small">Workout quests</div>
 </div>

 <div class="card" onclick="openPage('vitality')">
  <h3>Vitality Chamber</h3>
  <div class="small">Life & recovery</div>
 </div>

 <div class="card" onclick="openPage('discipline')">
  <h3>Discipline Chamber</h3>
  <div class="small">Habits & rituals</div>
 </div>
</div>

<!-- STRENGTH -->
<div id="strength" class="hidden">
 <div class="card">
  <h3>Strength Chamber</h3>
  <input id="sText" placeholder="Workout quest">
  <input id="sXP" type="number" placeholder="XP">
  <button onclick="addQuest('strength')">Add Quest</button>
  <div id="strengthList"></div>
 </div>
</div>

<!-- VITALITY -->
<div id="vitality" class="hidden">
 <div class="card">
  <h3>Vitality Chamber</h3>
  <input id="vText" placeholder="Daily task">
  <input id="vXP" type="number" placeholder="XP">
  <button onclick="addQuest('vitality')">Add Task</button>
  <div id="vitalityList"></div>
 </div>
</div>

<!-- DISCIPLINE -->
<div id="discipline" class="hidden">
 <div class="card">
  <h3>Discipline Chamber</h3>
  <input id="dText" placeholder="Habit / Ritual">
  <input id="dXP" type="number" placeholder="XP">
  <button onclick="addQuest('discipline')">Add Habit</button>
  <div id="disciplineList"></div>
 </div>
</div>

<nav id="nav" class="hidden">
 <button onclick="openPage('home')">Home</button>
 <button onclick="openPage('strength')">Strength</button>
 <button onclick="openPage('vitality')">Vitality</button>
 <button onclick="openPage('discipline')">Discipline</button>
</nav>

<script>
/* ===== DATA ===== */
let data=JSON.parse(localStorage.getItem("system"))||{
 name:"",
 xp:0,
 stats:{
  Strength:{xp:0},
  Vitality:{xp:0},
  Discipline:{xp:0}
 },
 quests:{strength:[],vitality:[],discipline:[]},
 lastDay:""
};

/* ===== DAILY RESET ===== */
let today=new Date().toDateString();
if(data.lastDay!==today){
 Object.values(data.quests).forEach(qs=>qs.forEach(q=>q.done=false));
 data.lastDay=today;
 save();
}

/* ===== AWAKEN ===== */
function awaken(){
 let n=hunterName.value.trim();
 if(!n)return;
 data.name=n;
 save();
 init();
}

/* ===== RANK ===== */
function rankFromLevel(l){
 if(l>=90)return"MONARCH";
 if(l>=80)return"EMPEROR";
 if(l>=70)return"INTERNATIONAL";
 if(l>=60)return"NATIONAL";
 if(l>=50)return"S";
 if(l>=40)return"A";
 if(l>=30)return"B";
 if(l>=20)return"C";
 if(l>=10)return"D";
 return"E";
}

/* ===== XP ===== */
function addXP(v){
 data.xp+=v;
 save();
}

/* ===== STATS ===== */
function statLevel(xp){return Math.floor(xp/50)+1}
function addStat(){
 let n=newStat.value.trim();
 if(!n||data.stats[n])return;
 data.stats[n]={xp:0};
 save();render();
}

/* ===== QUESTS ===== */
function addQuest(type){
 let t=document.getElementById(type[0]+"Text").value;
 let xp=+document.getElementById(type[0]+"XP").value||10;
 if(!t)return;
 data.quests[type].push({t,xp,done:false});
 save();render();
}
function toggleQuest(type,i){
 let q=data.quests[type][i];
 if(q.done)return;
 q.done=true;
 addXP(q.xp);
 data.stats[type.charAt(0).toUpperCase()+type.slice(1)].xp+=q.xp;
 save();render();
}

/* ===== RENDER ===== */
function render(){
 profileName.innerText=data.name;
 let level=Math.floor(data.xp/100)+1;
 rank.innerText=rankFromLevel(level);
 levelEl.innerText=level;
 xpFill.style.width=(data.xp%100)+"%";

 stats.innerHTML="";
 Object.entries(data.stats).forEach(([k,v])=>{
  let d=document.createElement("div");
  d.className="stat";
  d.innerHTML=`
   ${k} Lv ${statLevel(v.xp)}
   <div class="bar"><div class="fill" style="width:${v.xp%50*2}%"></div></div>
  `;
  stats.appendChild(d);
 });

 ["strength","vitality","discipline"].forEach(t=>{
  let l=document.getElementById(t+"List");
  l.innerHTML="";
  data.quests[t].forEach((q,i)=>{
   let d=document.createElement("div");
   d.className="quest"+(q.done?" done":"");
   d.innerHTML=`${q.t} (+${q.xp}) <button onclick="toggleQuest('${t}',${i})">âœ“</button>`;
   l.appendChild(d);
  });
 });
}

/* ===== NAV ===== */
function openPage(p){
 ["home","strength","vitality","discipline"].forEach(x=>document.getElementById(x).classList.add("hidden"));
 document.getElementById(p).classList.remove("hidden");
}

/* ===== SAVE ===== */
function save(){
 localStorage.setItem("system",JSON.stringify(data));
}

/* ===== INIT ===== */
function init(){
 awakening.classList.add("hidden");
 home.classList.remove("hidden");
 nav.classList.remove("hidden");
 render();
}
if(data.name) init();
</script>

</body>
</html>
